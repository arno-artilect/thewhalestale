<!DOCTYPE html>
<html lang="en-ZA" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>The Whale's Tale Guesthouse | Luxury Ocean View Accommodation in Hermanus</title>
    <meta name="description" content="Luxury guesthouse in Hermanus with stunning ocean views. Perfect for whale watching, shark cage diving & golf getaways. Cliff path access to town. Book direct for best rates!">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.thewhalestale.co.za/">
    <meta property="og:title" content="The Whale's Tale Guesthouse | Hermanus Ocean Views">
    <meta property="og:description" content="Wake up to whale sightings from your room. Luxury accommodation on the famous Hermanus cliff path.">
    <meta property="og:image" content="./images/og-whale-tale.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
    <link rel="apple-touch-icon" href="./images/logo.jpg">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Three.js for 3D logo -->
    <script src="https://threejs.org/build/three.min.js"></script>
    <script src="https://threejs.org/examples/js/loaders/OBJLoader.js"></script>
    
    <style>
        /* ========== CSS VARIABLES ========== */
        :root {
            /* Primary Brand Colors - Ocean & Whale Theme */
            --primary-color: #0d7377; /* Deep ocean teal */
            --primary-light: #14a39b; /* Brighter teal */
            --primary-dark: #0a5a5d; /* Darker ocean */
            --secondary-color: #9d65c9; /* Purple accent - like whales */
            --secondary-light: #b18bde;
            --accent-color: #ff6b9d; /* Pink accent - sunset */
            
            /* CONVERSION ACCENT - Only for CTAs */
            --cta-color: #FF8C42; /* Warm orange - stands out, creates urgency */
            --cta-hover: #FF6B1A;
            
            /* Neutral Colors */
            --color-bg: #f8f9fa;
            --color-surface: #ffffff;
            --color-text: #1a1a1a;
            --color-text-muted: #4a5568; /* Better contrast */
            --color-text-light: #ffffff;
            --color-border: rgba(0,0,0,0.08);
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            --gradient-ocean: linear-gradient(135deg, #0d7377, #14a39b, #1bc4b6);
            --gradient-sunset: linear-gradient(135deg, #ff6b9d, #ff8fb1, #ffb6c1);
            --gradient-cta: linear-gradient(135deg, var(--cta-color), #FF6B1A);
            
            /* Layout */
            --max-width: 1400px;
            --section-padding: 120px 20px; /* Increased vertical spacing */
            --mobile-section-padding: 80px 20px; /* Extra for mobile */
            --header-height: 90px;
            --border-radius: 16px;
            --border-radius-sm: 8px;
            --transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
            --transition-slow: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
            
            /* Typography - Better contrast */
            --font-primary: 'Playfair Display', Georgia, serif;
            --font-secondary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 2rem;
            --font-size-xxl: clamp(3rem, 8vw, 6rem);
            --hero-font-size: clamp(3rem, 8vw, 6rem);
            --hero-sub-font-size: clamp(1.2rem, 3vw, 2rem);
            
            /* Shadows */
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 20px rgba(0,0,0,0.15);
            --shadow-lg: 0 10px 40px rgba(0,0,0,0.2);
            --shadow-cta: 0 4px 20px rgba(255, 140, 66, 0.3);
            
            /* Z-index */
            --z-header: 1000;
            --z-modal: 2000;
            --z-overlay: 1500;
            --z-floating-cta: 900;
        }

        /* Dark Mode Variables */
        [data-theme="dark"] {
            --primary-color: #14a39b;
            --primary-light: #1bc4b6;
            --primary-dark: #0d7377;
            --secondary-color: #b18bde;
            --accent-color: #ff8fb1;
            --color-bg: #121212;
            --color-surface: #1e1e1e;
            --color-text: #f0f0f0; /* Brighter for contrast */
            --color-text-muted: #b0b0b0;
            --color-border: rgba(255,255,255,0.1);
            --cta-color: #FF8C42; /* CTA stays same */
            --cta-hover: #FF6B1A;
        }

        /* ========== GLOBAL STYLES ========== */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: var(--font-size-base);
            scroll-behavior: smooth;
            scroll-padding-top: calc(var(--header-height) + 20px);
        }

        @media (prefers-reduced-motion: reduce) {
            html {
                scroll-behavior: auto;
            }
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        body {
            font-family: var(--font-secondary);
            color: var(--color-text);
            background: var(--color-bg);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transition: var(--transition);
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-primary);
            font-weight: 700;
            line-height: 1.2;
        }

        h1 {
            font-size: var(--font-size-xxl);
            margin-bottom: 1rem;
        }

        h2 {
            font-size: var(--font-size-xl);
            margin-bottom: 2rem;
        }

        p {
            line-height: 1.6;
            margin-bottom: 1.5rem;
            color: var(--color-text-muted);
        }

        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
        }

        a:hover {
            color: var(--secondary-color);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* ========== UTILITY CLASSES ========== */
        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }

        .section {
            padding: var(--section-padding);
            position: relative;
        }

        @media (max-width: 768px) {
            .section {
                padding: var(--mobile-section-padding);
            }
        }

        /* CTA BUTTONS - Distinct conversion-focused styling */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 16px 42px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 700; /* Bolder */
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            font-size: var(--font-size-base);
            font-family: var(--font-secondary);
            position: relative;
            overflow: hidden;
        }

        .btn--cta {
            background: var(--gradient-cta);
            color: white;
            box-shadow: var(--shadow-cta);
            font-weight: 800;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            font-size: 1.1rem;
        }

        .btn--cta:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 140, 66, 0.4);
        }

        .btn--cta:active {
            transform: translateY(-1px);
        }

        .btn--cta::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        .btn--cta:hover::after {
            left: 100%;
        }

        .btn--primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn--primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .btn--outline {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn--outline:hover {
            background: white;
            color: var(--primary-color);
        }

        .section-title {
            text-align: center;
            margin-bottom: 70px;
        }

        .section-title h2 {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: inline-block;
            position: relative;
            padding-bottom: 20px;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: 3px;
        }

        /* ========== FLOATING CTA (Persistent Book Now) ========== */
        .floating-cta {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: var(--z-floating-cta);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .floating-cta.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .floating-cta .btn--cta {
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 10px 40px rgba(255, 140, 66, 0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 10px 40px rgba(255, 140, 66, 0.4);
            }
            50% {
                box-shadow: 0 10px 50px rgba(255, 140, 66, 0.6);
            }
            100% {
                box-shadow: 0 10px 40px rgba(255, 140, 66, 0.4);
            }
        }

        @media (max-width: 768px) {
            .floating-cta {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-cta .btn--cta {
                padding: 12px 24px;
                font-size: 0.9rem;
            }
        }

        /* ========== HEADER ========== */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            z-index: var(--z-header);
            transition: var(--transition);
            border-bottom: 1px solid var(--color-border);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="dark"] header {
            background: rgba(30, 30, 30, 0.98);
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
            padding: 0 20px;
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        #logo-3d {
            width: 50px;
            height: 50px;
            cursor: pointer;
        }

        .logo-img {
            height: 50px;
            width: auto;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            color: var(--color-text);
            font-weight: 600;
            position: relative;
            padding: 5px 0;
            font-size: 0.95rem;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-cta); /* CTA color in nav */
            transition: var(--transition);
        }

        nav a:hover::after {
            width: 100%;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .control-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            color: var(--color-text);
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .control-btn:hover {
            transform: scale(1.1);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 20px;
            cursor: pointer;
        }

        .hamburger span {
            width: 100%;
            height: 3px;
            background: var(--color-text);
            transition: var(--transition);
            border-radius: 3px;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* ========== HERO SECTION (PARALLAX) ========== */
        .hero-section {
            position: relative;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            z-index: -2;
            will-change: transform;
        }

        .hero-bg video,
        .hero-bg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.6); /* Slightly darker for text contrast */
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.4), rgba(13, 115, 119, 0.3));
            z-index: -1;
        }

        .hero-content {
            text-align: center;
            color: white;
            max-width: 900px;
            padding: 20px;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-title {
            font-size: var(--hero-font-size);
            text-shadow: 0 2px 20px rgba(0,0,0,0.7); /* Stronger shadow for contrast */
            margin-bottom: 1rem;
            background: linear-gradient(to right, #ffffff, #b1e5f3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-subtitle {
            font-size: var(--hero-sub-font-size);
            text-shadow: 0 2px 10px rgba(0,0,0,0.7); /* Stronger shadow */
            margin-bottom: 2rem;
            opacity: 0.95; /* Increased opacity */
            font-weight: 500;
        }

        .hero-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        /* Emotional Peak CTA */
        .emotional-cta {
            margin-top: 40px;
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 1s ease-out 1s both;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .social-proof {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.15); /* Brighter for contrast */
            border-radius: var(--border-radius);
            backdrop-filter: blur(10px);
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .social-proof-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(157, 101, 201, 0.3); /* More visible */
            color: white;
            padding: 5px 15px;
            border-radius: var(--border-radius-sm);
            font-weight: 600;
        }

        /* ========== ROOMS SECTION ========== */
        .rooms-section {
            background: var(--color-bg);
        }

        .rooms-carousel {
            display: flex;
            gap: 30px;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            padding: 20px 10px 40px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) var(--color-bg);
        }

        .rooms-carousel::-webkit-scrollbar {
            height: 8px;
        }

        .rooms-carousel::-webkit-scrollbar-track {
            background: var(--color-bg);
            border-radius: var(--border-radius);
        }

        .rooms-carousel::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: var(--border-radius);
        }

        .room-card {
            flex: 0 0 350px;
            background: var(--color-surface);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            cursor: pointer;
            transition: var(--transition);
            scroll-snap-align: center;
            border: 1px solid var(--color-border);
            opacity: 0;
            transform: translateY(20px);
        }

        .room-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .room-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .room-img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: var(--transition-slow);
        }

        .room-card:hover .room-img {
            transform: scale(1.05);
        }

        .room-info {
            padding: 25px;
        }

        .room-name {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .room-price {
            font-size: 1.8rem;
            color: var(--cta-color); /* CTA color for prices */
            font-weight: 700;
        }

        /* ========== ATTRACTIONS SECTION (PARALLAX) ========== */
        .attractions-section {
            position: relative;
            min-height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        .attractions-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            z-index: -2;
            will-change: transform;
            background-image: url('./images/paralax_attractions.jpg');
            background-size: cover;
            background-position: center;
            filter: brightness(0.7); /* Darker for contrast */
        }

        .attractions-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(13, 115, 119, 0.8), rgba(157, 101, 201, 0.5));
            z-index: -1;
        }

        .attractions-content {
            position: relative;
            z-index: 1;
            width: 100%;
            color: white;
        }

        .attractions-carousel {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            padding: 20px 10px 40px;
        }

        .attractions-carousel::-webkit-scrollbar {
            height: 6px;
        }

        .attractions-carousel::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
        }

        .attractions-carousel::-webkit-scrollbar-thumb {
            background: var(--gradient-cta); /* CTA color for scroll */
            border-radius: var(--border-radius);
        }

        .attraction-card {
            flex: 0 0 300px;
            background: rgba(255, 255, 255, 0.15); /* Brighter for contrast */
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            overflow: hidden;
            cursor: pointer;
            transition: var(--transition);
            scroll-snap-align: center;
            border: 1px solid rgba(255,255,255,0.3);
            opacity: 0;
            transform: translateY(20px);
        }

        .attraction-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .attraction-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.2);
        }

        .attraction-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .attraction-info {
            padding: 20px;
        }

        .attraction-name {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: white;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }

        /* Mid-engagement CTA after attractions */
        .mid-engagement {
            text-align: center;
            margin-top: 60px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .mid-engagement h3 {
            color: white;
            margin-bottom: 15px;
        }

        /* ========== ABOUT SECTION ========== */
        .about-section {
            background: var(--color-bg);
        }

        .about-content {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
        }

        /* ========== GALLERY SECTION (PARALLAX) ========== */
        .gallery-section {
            position: relative;
            min-height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        .gallery-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            z-index: -2;
            will-change: transform;
            background-image: url('./images/foyer.jpg');
            background-size: cover;
            background-position: center;
            filter: brightness(0.6); /* Darker for contrast */
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(13, 115, 119, 0.6));
            z-index: -1;
        }

        .gallery-content {
            position: relative;
            z-index: 1;
            width: 100%;
            color: white;
        }

        .gallery-carousel {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            padding: 20px 10px 40px;
        }

        .gallery-carousel::-webkit-scrollbar {
            height: 6px;
        }

        .gallery-carousel::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
        }

        .gallery-carousel::-webkit-scrollbar-thumb {
            background: var(--gradient-cta); /* CTA color for scroll */
            border-radius: var(--border-radius);
        }

        .gallery-item {
            flex: 0 0 250px;
            cursor: pointer;
            transition: var(--transition);
            scroll-snap-align: center;
            opacity: 0;
            transform: translateY(20px);
        }

        .gallery-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: var(--border-radius);
            border: 2px solid rgba(255,255,255,0.4); /* Brighter border */
        }

        /* ========== PROMOTIONS SECTION ========== */
        .promotions-section {
            background: var(--gradient-primary);
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .promotions-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .promo-btn {
            background: var(--gradient-cta); /* CTA color */
            color: white;
            padding: 16px 42px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 20px;
            box-shadow: var(--shadow-cta);
        }

        .promo-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px rgba(255, 140, 66, 0.4);
        }

        /* ========== BOOKING SECTION ========== */
        .booking-section {
            background: var(--color-bg);
            text-align: center;
            position: relative;
        }

        .booking-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(13, 115, 119, 0.05) 0%, rgba(157, 101, 201, 0.05) 100%);
            z-index: -1;
        }

        .book-now-btn {
            background: var(--gradient-cta); /* CTA color */
            color: white;
            padding: 20px 60px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.3rem;
            font-weight: 800;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-block;
            box-shadow: var(--shadow-cta);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .book-now-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 40px rgba(255, 140, 66, 0.4);
        }

        /* ========== CONTACT SECTION ========== */
        .contact-section {
            background: var(--color-bg);
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: start;
        }

        .contact-info {
            padding: 40px;
            background: var(--color-surface);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--color-border);
        }

        .contact-form {
            padding: 40px;
            background: var(--color-surface);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--color-border);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--color-text);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 14px; /* Larger padding for mobile comfort */
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius-sm);
            font-size: 1rem;
            transition: var(--transition);
            background: var(--color-bg);
            color: var(--color-text);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--cta-color); /* CTA color for focus */
            box-shadow: 0 0 0 3px rgba(255, 140, 66, 0.1);
        }

        .submit-btn {
            background: var(--gradient-cta); /* CTA color */
            color: white;
            padding: 16px 40px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            box-shadow: var(--shadow-cta);
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 140, 66, 0.4);
        }

        /* ========== MODAL ========== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: var(--z-modal);
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--color-surface);
            max-width: 600px;
            width: 100%;
            border-radius: var(--border-radius);
            padding: 40px;
            position: relative;
            animation: modalSlideIn 0.3s ease;
            border: 1px solid var(--color-border);
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: var(--color-text-muted);
            transition: var(--transition);
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .modal-close:hover {
            color: var(--cta-color); /* CTA color for close */
            transform: rotate(90deg);
        }

        .modal-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .modal-content p {
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .price-tag {
            font-size: 2rem;
            color: var(--cta-color); /* CTA color for prices */
            font-weight: 700;
        }

        .modal-cta {
            margin-top: 30px;
            text-align: center;
        }

        /* ========== FOOTER ========== */
        footer {
            background: var(--primary-dark);
            color: white;
            padding: 60px 20px 30px;
            margin-top: 60px;
        }

        .footer-content {
            max-width: var(--max-width);
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            color: var(--secondary-light);
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .footer-section p,
        .footer-section a {
            color: rgba(255,255,255,0.8);
            margin-bottom: 10px;
            display: block;
        }

        .footer-section a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.6);
        }

        /* ========== SCROLL REVEAL ANIMATIONS ========== */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Section transition animations */
        .section-transition {
            position: relative;
            overflow: hidden;
        }

        .section-transition::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-ocean);
            transform: translateY(100%);
            transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
            z-index: -1;
        }

        .section-transition.in-view::before {
            transform: translateY(0);
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 768px) {
            :root {
                --header-height: 70px;
            }

            .hamburger {
                display: flex;
            }

            nav {
                position: fixed;
                top: var(--header-height);
                right: -100%;
                width: 100%;
                height: calc(100vh - var(--header-height));
                background: var(--color-surface);
                transition: var(--transition);
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
                box-shadow: var(--shadow-lg);
            }

            [data-theme="dark"] nav {
                background: var(--color-surface);
            }

            nav.active {
                right: 0;
            }

            nav ul {
                flex-direction: column;
                gap: 30px;
                text-align: center;
            }

            nav a {
                font-size: 1.3rem;
            }

            .hero-actions {
                flex-direction: column;
                align-items: center;
            }

            .contact-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .room-card,
            .attraction-card {
                flex: 0 0 280px;
            }

            /* Extra vertical spacing on mobile */
            .section {
                padding: 80px 20px;
            }
            
            .section-title {
                margin-bottom: 50px;
            }
            
            .rooms-carousel,
            .attractions-carousel,
            .gallery-carousel {
                padding-bottom: 30px;
            }
        }
    </style>
</head>
<body data-theme="light">
    <!-- ========== FLOATING CTA ========== -->
    <div class="floating-cta" id="floatingCta">
        <a href="https://book.nightsbridge.com/24965" class="btn btn--cta">
            <i class="fas fa-calendar-check"></i> BOOK NOW
        </a>
    </div>

    <!-- ========== HEADER ========== -->
    <header id="main-header">
        <div class="header-container">
            <div class="logo-section">
                <!-- 3D Logo with fallback -->
                <canvas id="logo-3d" title="3D Logo"></canvas>
                <img src="./images/logo_1800.png" alt="The Whale's Tale" class="logo-img">
            </div>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="#about">ABOUT</a></li>
                    <li><a href="#rooms">ROOMS</a></li>
                    <li><a href="#attractions">EXPERIENCES</a></li>
                    <li><a href="#gallery">GALLERY</a></li>
                    <li><a href="#promotions">PROMOTIONS</a></li>
                    <li><a href="#contact">CONTACT</a></li>
                    <li><a href="#booking" class="nav-cta">BOOK NOW</a></li>
                </ul>
            </nav>
            
            <div class="header-controls">
                <button class="dark-mode-toggle" id="dark-mode-toggle" title="Toggle Dark Mode" aria-label="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="control-btn" id="volume-toggle" title="Toggle Volume" aria-label="Toggle volume">
                    <i class="fas fa-volume-mute"></i>
                </button>
                <button class="hamburger" id="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- ========== HERO SECTION (PARALLAX) ========== -->
    <section id="hero" class="hero-section">
        <div class="hero-bg" id="hero-bg">
            <video id="hero-video" autoplay muted loop playsinline>
                <source src="/videos/hero-whale-cinematic.mp4" type="video/mp4">
                <img src="./images/paralax_pool_main.jpg" alt="Ocean View from The Whale's Tale">
            </video>
        </div>
        <div class="hero-overlay"></div>
        
        <div class="hero-content reveal">
            <h1 class="hero-title">THE WHALE'S TALE GUESTHOUSE</h1>
            <p class="hero-subtitle">It's just a fish tale... until you live it!</p>
            
            <div class="hero-actions">
                <a href="https://book.nightsbridge.com/24965" class="btn btn--cta">
                    <i class="fas fa-calendar-check"></i> BOOK YOUR STAY
                </a>
                <a href="#rooms" class="btn btn--outline">
                    <i class="fas fa-eye"></i> VIEW ROOMS
                </a>
            </div>
            
            <!-- Emotional Peak CTA -->
            <div class="emotional-cta reveal" style="animation-delay: 0.5s;">
                <h3>Whale Watching Season is Here!</h3>
                <p>June - December | Book now for guaranteed ocean-view rooms</p>
                <a href="https://book.nightsbridge.com/24965" class="btn btn--cta" style="margin-top: 15px;">
                    <i class="fas fa-whale"></i> RESERVE WHALE VIEW ROOM
                </a>
            </div>
            
            <div class="social-proof reveal" style="animation-delay: 0.8s;">
                <div class="social-proof-badge">
                    <i class="fas fa-star"></i>
                    4.9/5 (127 Reviews)
                </div>
                <span>#1 Rated in Hermanus for Whale Watching Views</span>
            </div>
        </div>
    </section>

    <!-- ========== ROOMS SECTION ========== -->
    <section id="rooms" class="section rooms-section">
        <div class="container">
            <div class="section-title reveal">
                <h2>Ocean View Luxury Rooms</h2>
                <p>Wake up to breathtaking ocean views and whale sightings from your private balcony</p>
            </div>
            
            <div class="rooms-carousel">
                <div class="room-card reveal">
                    <img src="./images/rooms/room_luxury.jpg" alt="Luxury Suite" class="room-img">
                    <div class="room-info">
                        <h3 class="room-name">Luxury Suite</h3>
                        <p class="room-price">R2,934<span style="font-size: 1rem;">/night</span></p>
                        <p style="font-size: 0.9rem; color: var(--color-text-muted); margin-top: 10px;">Top floor • En-suite bathroom • DSTV • Aircon</p>
                        <button onclick="openRoomModal('Luxury Suite', 'R2,934/night', 'Our two Luxury Rooms are situated on the top floor of the guesthouse. These spacious rooms consist of an en-suite bathroom with shower, flat screen television with DSTV satellite channels, aircon, safe and coffee / tea making facilities.', 'luxury')" class="btn btn--cta" style="margin-top: 15px; padding: 10px 20px; width: 100%;">
                            VIEW DETAILS
                        </button>
                    </div>
                </div>
                <div class="room-card reveal" style="transition-delay: 0.1s;">
                    <img src="./images/rooms/room_superior.jpg" alt="Superior Room" class="room-img">
                    <div class="room-info">
                        <h3 class="room-name">Superior Room</h3>
                        <p class="room-price">R2,934<span style="font-size: 1rem;">/night</span></p>
                        <p style="font-size: 0.9rem; color: var(--color-text-muted); margin-top: 10px;">Ground floor • Private patio • DSTV • Aircon</p>
                        <button onclick="openRoomModal('Superior Room', 'R2,934/night', 'The Superior Double Room is situated on the ground floor of the guesthouse and consists of an en-suite bathroom with shower, flat screen television with DSTV satellite channels, aircon, safe and coffee / tea making facilities. The room also has a cosy patio outside where guests can enjoy a cup of coffee before breakfast.', 'superior')" class="btn btn--cta" style="margin-top: 15px; padding: 10px 20px; width: 100%;">
                            VIEW DETAILS
                        </button>
                    </div>
                </div>
                <div class="room-card reveal" style="transition-delay: 0.2s;">
                    <img src="./images/rooms/room_luxury_ocean_view.jpg" alt="Ocean View Luxury" class="room-img">
                    <div class="room-info">
                        <h3 class="room-name">Ocean View Luxury</h3>
                        <p class="room-price">R3,450<span style="font-size: 1rem;">/night</span></p>
                        <p style="font-size: 0.9rem; color: var(--color-text-muted); margin-top: 10px;">Balcony • Ocean view • Whale watching • WiFi</p>
                        <button onclick="openRoomModal('Ocean View Luxury', 'R3,450/night', 'Our Luxury Ocean View Rooms are situated on the top floor with a balcony and beautiful ocean views. These 2 luxurious rooms have an en-suite bathroom, television with satellite channels, aircon and wifi. Perfect for whale watching from your private balcony. Includes complimentary binoculars.', 'ocean-view')" class="btn btn--cta" style="margin-top: 15px; padding: 10px 20px; width: 100%;">
                            VIEW DETAILS
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Mid-section CTA -->
            <div class="mid-engagement reveal" style="margin-top: 40px; text-align: center; padding: 30px; background: rgba(13, 115, 119, 0.05); border-radius: var(--border-radius);">
                <h3>Limited Availability for Whale Season</h3>
                <p style="margin-bottom: 20px;">Ocean view rooms are booking fast for June-December whale watching season</p>
                <a href="https://book.nightsbridge.com/24965" class="btn btn--cta">
                    <i class="fas fa-calendar-alt"></i> CHECK AVAILABILITY
                </a>
            </div>
        </div>
    </section>

    <!-- ========== ATTRACTIONS SECTION (PARALLAX) ========== -->
    <section id="attractions" class="attractions-section">
        <div class="attractions-bg" id="attractions-bg"></div>
        <div class="attractions-overlay"></div>
        
        <div class="container">
            <div class="attractions-content">
                <div class="section-title reveal" style="color: white;">
                    <h2 style="-webkit-text-fill-color: white; background: none;">Unforgettable Experiences</h2>
                    <p style="color: rgba(255,255,255,0.95);">Discover the magic of Hermanus and Walker Bay</p>
                </div>
                
                <div class="attractions-carousel">
                    <div class="attraction-card reveal">
                        <img src="./images/attractions/whale.webp" alt="Whale Watching" class="attraction-img">
                        <div class="attraction-info">
                            <h3 class="attraction-name">Whale Watching</h3>
                            <p style="color: rgba(255,255,255,0.95);">June - December Season</p>
                            <button onclick="openAttractionModal('Whale Watching', 'Experience the majestic Southern Right Whales up close during whale season (June-December). Boat tours and cliff path viewing available. Watch from your balcony or join our guided whale watching excursions. We provide complimentary binoculars and whale sighting alerts.')" class="btn btn--cta" style="margin-top: 15px; padding: 8px 16px; width: 100%; font-size: 0.9rem;">
                                LEARN MORE
                            </button>
                        </div>
                    </div>
                    <div class="attraction-card reveal" style="transition-delay: 0.1s;">
                        <img src="./images/attractions/golf.jpg" alt="Golf" class="attraction-img">
                        <div class="attraction-info">
                            <h3 class="attraction-name">Golf</h3>
                            <p style="color: rgba(255,255,255,0.95);">27-hole championship course</p>
                            <button onclick="openAttractionModal('Golf Course', 'Hermanus Golf Club is perfectly set on the slopes of the Overberg with breathtaking views of Walker Bay. The spectacular 27 hole course is set around a restored wetland, which provides for beautiful fynbos, abundant bird life and an opportunity to spot some springbok along the way. We offer priority tee time bookings and club storage.')" class="btn btn--cta" style="margin-top: 15px; padding: 8px 16px; width: 100%; font-size: 0.9rem;">
                                LEARN MORE
                            </button>
                        </div>
                    </div>
                    <div class="attraction-card reveal" style="transition-delay: 0.2s;">
                        <img src="./images/attractions/shark.jpg" alt="Shark Diving" class="attraction-img">
                        <div class="attraction-info">
                            <h3 class="attraction-name">Shark Cage Diving</h3>
                            <p style="color: rgba(255,255,255,0.95);">Thrilling ocean adventure</p>
                            <button onclick="openAttractionModal('Shark Cage Diving', 'Face-to-face encounters with Great White Sharks in their natural habitat. Safe and thrilling adventure with certified operators. All equipment and training provided. We partner with the best local operators and arrange early morning pickups directly from the guesthouse. GoPro footage packages available.')" class="btn btn--cta" style="margin-top: 15px; padding: 8px 16px; width: 100%; font-size: 0.9rem;">
                                LEARN MORE
                            </button>
                        </div>
                    </div>
                    <div class="attraction-card reveal" style="transition-delay: 0.3s;">
                        <img src="./images/attractions/wine.jpg" alt="WINE VALLEY" class="attraction-img">
                        <div class="attraction-info">
                            <h3 class="attraction-name">Wine Valley Tours</h3>
                            <p style="color: rgba(255,255,255,0.95);">World-class cool climate wines</p>
                            <button onclick="openAttractionModal('Wine Tours', 'Explore the famous Hemel-en-Aarde valley wineries. Premium tastings and scenic vineyard tours. Hemel-en-Aarde is widely regarded as one of the most exciting and most beautiful wine areas in South Africa. We arrange private chauffeur tours with picnic lunches in vineyards and 15% discounts at select wineries.')" class="btn btn--cta" style="margin-top: 15px; padding: 8px 16px; width: 100%; font-size: 0.9rem;">
                                LEARN MORE
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Mid-engagement CTA after attractions -->
                <div class="mid-engagement reveal" style="transition-delay: 0.4s;">
                    <h3>Package Deals Available</h3>
                    <p style="color: rgba(255,255,255,0.95);">Combine your stay with whale watching, golf, or wine tours</p>
                    <a href="#promotions" class="btn btn--cta" style="margin-top: 15px;">
                        <i class="fas fa-gift"></i> VIEW PACKAGE DEALS
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== ABOUT SECTION ========== -->
    <section id="about" class="section about-section">
        <div class="container">
            <div class="section-title reveal">
                <h2>Our Whale Tale Story</h2>
            </div>
            
            <div class="about-content reveal">
                <p>The Whale's Tale Guesthouse offers a magnificent ocean view, and is conveniently situated between the Hermanus New Harbour and the Town Centre. It gives our guests easy access to the famous cliff path where you will find magnificent scenery of the ocean meeting the cliffs, various plant species and of course the adventure of seeing a Southern Right Whale during Whale Season.</p>
                <p>The guesthouse consists of 5 beautifully decorated bedrooms, each with air-conditioning, an en-suite bathroom, smart televisions and complimentary WiFi. Other facilities includes free parking, solar power and an outdoor swimming pool where our guests can relax on the deck while enjoying the magnificent view of the ocean.</p>
                <p>The Whale's Tale Guest House will enchant you with a tale of a memorable holiday in a beautiful seaside town, where guests stay in luxury and are treated like good friends.</p>
                
                <!-- Emotional anchor after story -->
                <div style="text-align: center; margin-top: 40px;">
                    <a href="#booking" class="btn btn--cta">
                        <i class="fas fa-heart"></i> BECOME PART OF OUR STORY
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== GALLERY SECTION (PARALLAX) ========== -->
    <section id="gallery" class="gallery-section">
        <div class="gallery-bg" id="gallery-bg"></div>
        <div class="gallery-overlay"></div>
        
        <div class="container">
            <div class="gallery-content">
                <div class="section-title reveal" style="color: white;">
                    <h2 style="-webkit-text-fill-color: white; background: none;">Moments at The Whale's Tale</h2>
                    <p style="color: rgba(255,255,255,0.95);">Real memories from our guests</p>
                </div>
                
                <div class="gallery-carousel" id="dynamic-gallery">
                    <!-- Images will be loaded here dynamically -->
                </div>
                
                <!-- CTA after gallery -->
                <div class="mid-engagement reveal" style="transition-delay: 0.3s; text-align: center;">
                    <h3>Ready to Create Your Own Memories?</h3>
                    <p style="color: rgba(255,255,255,0.95);">Book your stay today and experience the magic of Hermanus</p>
                    <a href="https://book.nightsbridge.com/24965" class="btn btn--cta" style="margin-top: 15px;">
                        <i class="fas fa-camera"></i> BOOK YOUR STAY
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== PROMOTIONS SECTION ========== -->
    <section id="promotions" class="section promotions-section">
        <div class="container">
            <div class="section-title reveal">
                <h2 style="-webkit-text-fill-color: white; background: none;">Exclusive Promotions</h2>
                <p>Book directly with us for the best rates and special offers</p>
            </div>
            
            <div class="promo-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 40px;">
                <div class="promo-card reveal" style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: var(--border-radius); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                    <h3 style="color: white; margin-bottom: 15px;">Whale Season Special</h3>
                    <p style="color: rgba(255,255,255,0.9);">15% off whale watching packages when booking 3+ nights</p>
                    <p style="color: var(--cta-color); font-weight: 700; margin-top: 15px;">Valid: June - December 2024</p>
                </div>
                
                <div class="promo-card reveal" style="transition-delay: 0.1s; background: rgba(255,255,255,0.1); padding: 30px; border-radius: var(--border-radius); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                    <h3 style="color: white; margin-bottom: 15px;">Stay 4, Pay 3</h3>
                    <p style="color: rgba(255,255,255,0.9);">Book 4 nights and only pay for 3. Direct bookings only.</p>
                    <p style="color: var(--cta-color); font-weight: 700; margin-top: 15px;">Valid until Dec 2024</p>
                </div>
                
                <div class="promo-card reveal" style="transition-delay: 0.2s; background: rgba(255,255,255,0.1); padding: 30px; border-radius: var(--border-radius); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                    <h3 style="color: white; margin-bottom: 15px;">Honeymoon Package</h3>
                    <p style="color: rgba(255,255,255,0.9);">Complimentary champagne & breakfast in bed</p>
                    <p style="color: var(--cta-color); font-weight: 700; margin-top: 15px;">All year round</p>
                </div>
            </div>
            
            <div class="reveal" style="text-align: center;">
                <button class="promo-btn" onclick="openPromotionModal()">
                    <i class="fas fa-gift"></i> VIEW ALL PROMOTIONS
                </button>
            </div>
        </div>
    </section>

    <!-- ========== BOOKING SECTION ========== -->
    <section id="booking" class="section booking-section">
        <div class="container">
            <div class="section-title reveal">
                <h2>Ready for Your Whale Tale?</h2>
                <p>Experience the magic of Hermanus with us</p>
            </div>
            
            <div class="reveal" style="text-align: center;">
                <a href="https://book.nightsbridge.com/24965" class="book-now-btn">
                    <i class="fas fa-calendar-check"></i> BOOK YOUR STAY NOW
                </a>
                <p style="margin-top: 20px; color: var(--color-text-muted);">
                    <i class="fas fa-shield-alt"></i> Secure booking • Free cancellation • Best price guaranteed
                </p>
            </div>
        </div>
    </section>

    <!-- ========== CONTACT SECTION ========== -->
    <section id="contact" class="section contact-section">
        <div class="container">
            <div class="section-title reveal">
                <h2>Get In Touch</h2>
                <p>We're here to make your Hermanus experience unforgettable</p>
            </div>
            
            <div class="contact-container">
                <div class="contact-info reveal">
                    <h3>The Whale's Tale Guesthouse</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 86 Westcliff Drive, Hermanus, South Africa</p>
                    <p><i class="fas fa-phone"></i> Phone: +27 28 312 3196</p>
                    <p><i class="fas fa-envelope"></i> Email: reservations@thewhalestale.co.za</p>
                    <p><i class="fas fa-clock"></i> Check-in: 14:00 | Check-out: 10:00</p>
                    
                    <div id="map" style="height: 200px; border-radius: var(--border-radius); margin-top: 30px; overflow: hidden;">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3302.0453741899326!2d19.226203415210986!3d-34.41132878051634!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1dcd5d4eb0b3a3b5%3A0xbc33649e3fe0c7f7!2s86%20Westcliff%20Dr%2C%20Hermanus%2C%207200%2C%20South%20Africa!5e0!3m2!1sen!2s!4v1634123456789" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                </div>
                
                <form class="contact-form reveal" id="contact-form" style="transition-delay: 0.1s;">
                    <h3 style="margin-bottom: 20px; color: var(--primary-color);">Send us a message</h3>
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" id="name" required placeholder="Your name">
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" required placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" placeholder="+27">
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" rows="4" required placeholder="Tell us about your plans..."></textarea>
                    </div>
                    <button type="submit" class="submit-btn">
                        <i class="fas fa-paper-plane"></i> SEND MESSAGE
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- ========== FOOTER ========== -->
    <footer>
        <div class="footer-content">
            <div class="footer-section reveal">
                <h3>The Whale's Tale</h3>
                <p>Family-owned luxury guesthouse on Hermanus cliff path. Offering unforgettable ocean views and warm hospitality since 2005.</p>
            </div>
            
            <div class="footer-section reveal" style="transition-delay: 0.1s;">
                <h3>Quick Links</h3>
                <a href="#rooms">Rooms & Suites</a>
                <a href="#attractions">Experiences</a>
                <a href="#gallery">Gallery</a>
                <a href="#promotions">Promotions</a>
                <a href="#contact">Contact</a>
            </div>
            
            <div class="footer-section reveal" style="transition-delay: 0.2s;">
                <h3>Contact</h3>
                <p>86 Westcliff Drive</p>
                <p>Hermanus, 7200</p>
                <p>South Africa</p>
                <p>+27 28 312 3196</p>
                <p>reservations@thewhalestale.co.za</p>
            </div>
            
            <div class="footer-section reveal" style="transition-delay: 0.3s;">
                <h3>Follow Our Tale</h3>
                <a href="#"><i class="fab fa-facebook"></i> Facebook</a>
                <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
                <a href="#"><i class="fab fa-tripadvisor"></i> TripAdvisor</a>
                <div style="margin-top: 20px;">
                    <a href="#booking" class="btn btn--cta" style="padding: 10px 20px; font-size: 0.9rem;">
                        BOOK DIRECT
                    </a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom reveal">
            <p>&copy; 2024 The Whale's Tale Guesthouse. All rights reserved. | Hermanus, Western Cape, South Africa</p>
        </div>
    </footer>

    <!-- ========== MODAL ========== -->
    <div class="modal" id="main-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()" aria-label="Close modal">&times;</button>
            <h2 id="modal-title"></h2>
            <p id="modal-body"></p>
            <p id="modal-price" class="price-tag"></p>
            <div class="modal-cta">
                <a href="https://book.nightsbridge.com/24965" class="btn btn--cta">
                    <i class="fas fa-calendar-check"></i> BOOK THIS ROOM
                </a>
            </div>
        </div>
    </div>

    <!-- ========== AUDIO ========== -->
    <audio id="player" src="./kai-audio-a-calm-and-dreamy-ambient-track-for-the-whale-s-tale.mp3" autoplay muted loop></audio>

    <!-- ========== JAVASCRIPT ========== -->
    <script>
        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', () => {
            init3DLogo();
            loadGallery();
            adjustScrollPadding();
            initParallax();
            initScrollReveal();
            initFloatingCTA();
        });

        // ========== 3D LOGO ==========
        function init3DLogo() {
            const canvas = document.getElementById('logo-3d');
            if (!canvas) return;

            try {
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
                renderer.setSize(50, 50);

                // Create a whale shape
                const group = new THREE.Group();
                
                // Whale body (ellipsoid)
                const bodyGeometry = new THREE.SphereGeometry(0.7, 32, 32, 0, Math.PI * 2, 0, Math.PI);
                const bodyMaterial = new THREE.MeshBasicMaterial({ 
                    color: 0x0d7377,
                    wireframe: true
                });
                const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
                body.scale.set(1.5, 0.7, 0.7);
                group.add(body);
                
                // Whale tail
                const tailGeometry = new THREE.ConeGeometry(0.3, 0.8, 4);
                const tail = new THREE.Mesh(tailGeometry, bodyMaterial);
                tail.position.set(-1.2, 0, 0);
                tail.rotation.z = Math.PI / 2;
                group.add(tail);
                
                scene.add(group);
                
                camera.position.z = 3;
                
                function animate() {
                    requestAnimationFrame(animate);
                    group.rotation.y += 0.01;
                    tail.rotation.x = Math.sin(Date.now() * 0.003) * 0.3;
                    renderer.render(scene, camera);
                }
                animate();
            } catch (e) {
                console.log('3D logo failed, using fallback');
                canvas.style.display = 'none';
            }
        }

        // ========== PARALLAX EFFECTS ==========
        function initParallax() {
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                return;
            }

            const heroBg = document.getElementById('hero-bg');
            const attractionsBg = document.getElementById('attractions-bg');
            const galleryBg = document.getElementById('gallery-bg');

            function updateParallax() {
                const scrollY = window.pageYOffset;
                
                if (heroBg) {
                    const heroY = -(scrollY * 0.5);
                    heroBg.style.transform = `translate3d(0, ${heroY}px, 0)`;
                }
                
                if (attractionsBg) {
                    const attractionsY = -(scrollY * 0.3);
                    attractionsBg.style.transform = `translate3d(0, ${attractionsY}px, 0)`;
                }
                
                if (galleryBg) {
                    const galleryY = -(scrollY * 0.4);
                    galleryBg.style.transform = `translate3d(0, ${galleryY}px, 0)`;
                }
            }

            window.addEventListener('scroll', updateParallax, { passive: true });
            updateParallax();
        }

        // ========== SCROLL REVEAL ==========
        function initScrollReveal() {
            const reveals = document.querySelectorAll('.reveal');
            
            const revealOnScroll = () => {
                reveals.forEach(element => {
                    const windowHeight = window.innerHeight;
                    const elementTop = element.getBoundingClientRect().top;
                    const elementVisible = 100;
                    
                    if (elementTop < windowHeight - elementVisible) {
                        element.classList.add('visible');
                    }
                });
            };
            
            window.addEventListener('scroll', revealOnScroll);
            revealOnScroll(); // Initial check
        }

        // ========== FLOATING CTA ==========
        function initFloatingCTA() {
            const floatingCta = document.getElementById('floatingCta');
            let lastScrollY = window.scrollY;
            let ticking = false;
            
            const updateFloatingCTA = () => {
                const scrollY = window.scrollY;
                
                // Show after 300px scroll
                if (scrollY > 300) {
                    floatingCta.classList.add('visible');
                } else {
                    floatingCta.classList.remove('visible');
                }
                
                // Hide when at bottom
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight;
                
                if (windowHeight + scrollY >= documentHeight - 100) {
                    floatingCta.classList.remove('visible');
                }
            };
            
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        updateFloatingCTA();
                        ticking = false;
                    });
                    ticking = true;
                }
            });
            
            updateFloatingCTA();
        }

        // ========== MOBILE MENU ==========
        const menuToggle = document.getElementById('menu-toggle');
        const mainNav = document.getElementById('main-nav');

        menuToggle.addEventListener('click', () => {
            mainNav.classList.toggle('active');
            menuToggle.classList.toggle('active');
            menuToggle.setAttribute('aria-expanded', mainNav.classList.contains('active'));
            document.body.style.overflow = mainNav.classList.contains('active') ? 'hidden' : '';
        });

        // Close menu on link click
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                mainNav.classList.remove('active');
                menuToggle.classList.remove('active');
                menuToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
            });
        });

        // ========== VOLUME CONTROL ==========
        const volumeToggle = document.getElementById('volume-toggle');
        const video = document.getElementById('hero-video');
        const audio = document.getElementById('player');
        let isMuted = true;
        
        volumeToggle.addEventListener('click', () => {
            isMuted = !isMuted;
            video.muted = isMuted;
            audio.muted = isMuted;
            volumeToggle.innerHTML = isMuted 
                ? '<i class="fas fa-volume-mute"></i>'
                : '<i class="fas fa-volume-up"></i>';
            volumeToggle.setAttribute('title', isMuted ? 'Unmute' : 'Mute');
        });

        // ========== DARK MODE TOGGLE ==========
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const storedTheme = localStorage.getItem('theme') || 'light';
        
        document.body.setAttribute('data-theme', storedTheme);
        updateDarkModeIcon(storedTheme);

        darkModeToggle.addEventListener('click', () => {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateDarkModeIcon(newTheme);
        });

        function updateDarkModeIcon(theme) {
            darkModeToggle.innerHTML = theme === 'dark' 
                ? '<i class="fas fa-sun"></i>' 
                : '<i class="fas fa-moon"></i>';
            darkModeToggle.setAttribute('title', theme === 'dark' ? 'Switch to Light Mode' : 'Switch to Dark Mode');
        }

        // ========== MODAL FUNCTIONS ==========
        function openModal(title, body, price = '') {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-body').textContent = body;
            document.getElementById('modal-price').textContent = price || '';
            document.getElementById('main-modal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function openRoomModal(name, price, description, roomType) {
            openModal(name, description, price);
            // Track booking intent
            console.log(`Room modal opened: ${roomType}`);
        }

        function openAttractionModal(name, description) {
            openModal(name, description);
        }

        function openPromotionModal() {
            openModal('All Special Promotions', 
                '• Direct Booking Special - 10% Discount through 01 Apr 2025 to 15 Dec 2025\n\n' +
                '• Stay 4 nights, pay for 3 (valid until Dec 2025)\n' +
                '• Whale Season Special: 15% off whale watching packages\n' +
                '• Honeymoon Package: Complimentary champagne & breakfast in bed\n' +
                '• Golf Package: 2 nights + 2 rounds of golf at Hermanus Golf Club\n' +
                '• Wine Tour Package: Accommodation + private wine tour\n' +
                '• Early Bird Special: 5% off bookings made 60+ days in advance\n\n' +
                'All promotions are for direct bookings only. Contact us for package combinations.',
                'Exclusive Offers Available'
            );
        }

        function closeModal() {
            document.getElementById('main-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('main-modal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // ========== FORM HANDLER ==========
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Simple validation
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            
            if (name && email) {
                // In production, this would send to a server
                alert('Thank you for your message! We will contact you within 24 hours. For immediate booking, please use the BOOK NOW button.');
                e.target.reset();
                
                // Track conversion
                console.log('Contact form submitted');
            } else {
                alert('Please fill in all required fields.');
            }
        });

        // ========== GALLERY LOADER ==========
        function loadGallery() {
            const galleryContainer = document.getElementById('dynamic-gallery');
            if (!galleryContainer) return;

            // Sample gallery images - in production, load from JSON or directory
            const galleryImages = [
                { src: './images/rooms/room_luxury.jpg', alt: 'Luxury Suite' },
                { src: './images/rooms/room_superior.jpg', alt: 'Superior Room' },
                { src: './images/rooms/room_luxury_ocean_view.jpg', alt: 'Ocean View Luxury' },
                { src: './images/attractions/whale.webp', alt: 'Whale Watching' },
                { src: './images/attractions/golf.jpg', alt: 'Golf Course' },
                { src: './images/attractions/shark.jpg', alt: 'Shark Cage Diving' },
                { src: './images/attractions/wine.jpg', alt: 'Wine Valley' },
                { src: './images/attractions/cliff.jpg', alt: 'Cliff Path' }
            ];

            galleryContainer.innerHTML = '';
            
            galleryImages.forEach((image, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'gallery-item reveal';
                itemDiv.style.transitionDelay = `${index * 0.1}s`;
                
                const imgElement = document.createElement('img');
                imgElement.src = image.src;
                imgElement.alt = image.alt;
                imgElement.className = 'gallery-img';
                imgElement.onclick = () => openImageModal(image.src, image.alt);
                
                itemDiv.appendChild(imgElement);
                galleryContainer.appendChild(itemDiv);
            });
            
            // Initialize scroll reveal for dynamically added elements
            setTimeout(initScrollReveal, 100);
        }

        function openImageModal(src, alt) {
            openModal(alt, '');
            document.getElementById('modal-body').innerHTML = `
                <img src="${src}" alt="${alt}" style="width: 100%; border-radius: var(--border-radius); margin-bottom: 20px;">
                <div class="modal-cta">
                    <a href="https://book.nightsbridge.com/24965" class="btn btn--cta">
                        <i class="fas fa-calendar-check"></i> BOOK NOW TO EXPERIENCE THIS
                    </a>
                </div>
            `;
        }

        // ========== HEADER SCROLL EFFECT ==========
        window.addEventListener('scroll', () => {
            const header = document.getElementById('main-header');
            if (window.scrollY > 50) {
                header.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';
            } else {
                header.style.boxShadow = 'none';
            }
        });

        // ========== SCROLL PADDING ADJUSTMENT ==========
        function adjustScrollPadding() {
            const header = document.getElementById('main-header');
            if (header) {
                const headerHeight = header.offsetHeight;
                document.documentElement.style.scrollPaddingTop = `${headerHeight + 20}px`;
            }
        }

        // ========== AUDIO AUTOPLAY ==========
        const player = document.getElementById("player");
        player.volume = 0.15; // Lower volume for better UX

        function tryPlay() {
            player.muted = false;
            player.play().catch(() => {});
        }

        // Multiple engagement points
        window.addEventListener("scroll", tryPlay, { once: true });
        window.addEventListener("click", tryPlay, { once: true });
        window.addEventListener("touchstart", tryPlay, { once: true });
        
        // Also play when interacting with CTAs
        document.querySelectorAll('.btn--cta').forEach(btn => {
            btn.addEventListener('click', tryPlay, { once: true });
        });

        // ========== SMOOTH SCROLL ==========
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // ========== MICRO-INTERACTIONS ==========
        // Add hover effects to cards
        document.querySelectorAll('.room-card, .attraction-card').forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-10px)';
            });
            
            card.addEventListener('mouseleave', () => {
                if (!card.classList.contains('selected')) {
                    card.style.transform = 'translateY(0)';
                }
            });
        });

        // ========== BOOKING PSYCHOLOGY ==========
        // Show urgency message
        function showUrgencyMessage() {
            const now = new Date();
            const hour = now.getHours();
            
            // Show "booking now" message during business hours
            if (hour >= 9 && hour <= 17) {
                const urgencyMessages = [
                    "2 people are viewing this page right now",
                    "Last ocean view room available for this weekend",
                    "Whale season rooms are booking fast",
                    "Limited availability for June bookings"
                ];
                
                // Randomly show an urgency message
                if (Math.random() > 0.7) {
                    const message = urgencyMessages[Math.floor(Math.random() * urgencyMessages.length)];
                    const urgencyElement = document.createElement('div');
                    urgencyElement.className = 'urgency-message';
                    urgencyElement.innerHTML = `
                        <div style="background: rgba(255, 140, 66, 0.1); border-left: 3px solid var(--cta-color); padding: 10px 15px; margin: 20px 0; border-radius: var(--border-radius-sm);">
                            <i class="fas fa-clock" style="color: var(--cta-color);"></i>
                            <span style="margin-left: 10px; color: var(--color-text);">${message}</span>
                        </div>
                    `;
                    
                    // Insert after hero or before booking section
                    const heroActions = document.querySelector('.hero-actions');
                    if (heroActions) {
                        heroActions.parentNode.insertBefore(urgencyElement, heroActions.nextSibling);
                    }
                }
            }
        }
        
        // Show after a delay
        setTimeout(showUrgencyMessage, 3000);
    </script>
</body>
</html>
