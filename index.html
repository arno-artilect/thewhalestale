<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Whale's Tale Guesthouse - Hermanus Ocean View Accommodation</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/logo.jpg">
    
    <!-- External Libraries -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://threejs.org/build/three.min.js"></script>
    <script src="https://threejs.org/examples/js/loaders/OBJLoader.js"></script>
    
    <style>
        /* ========== CSS VARIABLES FOR CUSTOMIZATION ========== */
        :root {
            /* Light Mode Colors */
            --primary-color: #0066cc;
            --secondary-color: #9933cc;
            --accent-gradient: linear-gradient(135deg, #0066cc, #9933cc);
            --header-bg: rgba(255, 255, 255, 0.98);
            --header-text: #2c3e50;
            --body-bg: #ffffff;
            --text-primary: #2c3e50;
            --text-secondary: #5a6c7d;
            --card-bg: #ffffff;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --hero-font-size: clamp(3rem, 8vw, 6rem);
            --hero-sub-font-size: clamp(1.2rem, 3vw, 2rem);
            --header-height: 90px;
        }

        /* Dark Mode Colors */
        [data-theme="dark"] {
            --primary-color: #4d9fff;
            --secondary-color: #b366ff;
            --accent-gradient: linear-gradient(135deg, #4d9fff, #b366ff);
            --header-bg: rgba(20, 30, 48, 0.98);
            --header-text: #e0e0e0;
            --body-bg: #0a1929;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --card-bg: #1a2b3d;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        /* ========== GLOBAL STYLES ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-secondary);
            color: var(--text-primary);
            background: var(--body-bg);
            overflow-x: hidden;
            scroll-behavior: smooth;
            transition: var(--transition);
        }

        section {
            position: relative;
            padding: 80px 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* ========== HEADER ========== */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: var(--header-bg);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: var(--transition);
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
            padding: 0 40px;
            max-width: 1600px;
            margin: 0 auto;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        #logo-3d {
            width: 60px;
            height: 60px;
            cursor: pointer;
        }

        .logo-img {
            height: 50px;
            width: auto;
            border-radius: var(--border-radius);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 35px;
        }

        nav a {
            text-decoration: none;
            color: var(--header-text);
            font-weight: 700;
            font-size: 1.1rem;
            transition: var(--transition);
            position: relative;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--accent-gradient);
            transition: var(--transition);
        }

        nav a:hover::after {
            width: 100%;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .control-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            transition: var(--transition);
            color: var(--header-text);
            font-size: 1.3rem;
        }

        .control-btn:hover {
            transform: scale(1.1);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 24px;
            cursor: pointer;
        }

        .hamburger span {
            width: 100%;
            height: 3px;
            background: var(--header-text);
            transition: var(--transition);
            border-radius: 3px;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* ========== MOBILE MENU ========== */
        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            nav {
                position: fixed;
                top: var(--header-height);
                right: -100%;
                width: 100%;
                height: calc(100vh - var(--header-height));
                background: var(--header-bg);
                transition: var(--transition);
                display: flex;
                align-items: center;
                justify-content: center;
            }

            nav.active {
                right: 0;
            }

            nav ul {
                flex-direction: column;
                gap: 40px;
                text-align: center;
            }

            nav a {
                font-size: 1.5rem;
            }
        }

        /* ========== PARALLAX SECTIONS ========== */
        .parallax-section {
            position: relative;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: transparent;
        }

        .parallax-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            object-fit: cover;
            z-index: -0;
			will-change: transform;
			/* Prevent flickering */
			backface-visibility: hidden;
			transform: translateZ(0);
        }

        .parallax-content {
            text-align: center;
            color: white;
            z-index: 2;
            padding: 20px;
        }

        .parallax-content h1 {
            font-family: var(--font-primary);
            font-size: var(--hero-font-size);
            font-weight: 900;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            margin-bottom: 1rem;
            letter-spacing: 2px;
        }

        .parallax-content p {
            font-size: var(--hero-sub-font-size);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            max-width: 800px;
            margin: 0 auto;
        }




		/* Add this to ensure content stays visible */
		.parallax-content {
			position: relative;
			z-index: 1;
			text-align: center;
			color: white;
			padding: 20px;
			/* Prevent text selection during scroll */
			user-select: none;
		}



/** Test visibility - REMOVE after debugging /
#attractions {
    background: linear-gradient(to bottom, #1e3c72, #2a5298);
}
#gallery {
    background: linear-gradient(to bottom, #2a5298, #7e8ba3);
}*/


        /* ========== ABOUT SECTION ========== */
        .about-section {
            background: var(--body-bg);
            padding: 100px 20px;
        }

        .about-content {
            max-width: 900px;
            margin: 0 auto;
            line-height: 1.8;
            font-size: 1.1rem;
            text-align: center;
            color: var(--text-secondary);
        }

        .about-content p {
            margin-bottom: 1.5rem;
        }

        /* ========== ROOMS SECTION ========== */
        .rooms-section {
            background: var(--body-bg);
        }

        .section-title {
            font-family: var(--font-primary);
            font-size: 3rem;
            text-align: center;
            margin-bottom: 60px;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .rooms-carousel {
            display: flex;
            gap: 30px;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            padding: 20px 10px;
        }

        .room-card {
            flex: 0 0 350px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: var(--transition);
            scroll-snap-align: center;
        }

        .room-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .room-img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .room-info {
            padding: 25px;
        }

        .room-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .room-price {
            font-size: 1.8rem;
            color: var(--primary-color);
            font-weight: 900;
        }

        /* ========== ATTRACTIONS ========== */
        .attractions-carousel {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 20px 0;
        }

        .attraction-item {
            flex: 0 0 250px;
            cursor: pointer;
            transition: var(--transition);
        }

        .attraction-item:hover {
            transform: scale(1.05);
        }

        .attraction-img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: var(--border-radius);
        }

        /* ========== GALLERY ========== */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            padding: 20px 0;
        }

        .gallery-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .gallery-img:hover {
            transform: scale(1.05);
        }



/* ========== GALLERY CAROUSEL ========== */
.gallery-carousel {
    display: flex;
    gap: 20px;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding: 20px 10px;
}

.gallery-item {
    flex: 0 0 250px; /* Fixed width like room cards */
    cursor: pointer;
    transition: var(--transition);
    scroll-snap-align: center;
}

.gallery-item:hover {
    transform: scale(1.05);
}

.gallery-img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: var(--border-radius);
}



        /* ========== PROMOTIONS ========== */
        .promotions-section {
            background: var(--accent-gradient);
            color: white;
            text-align: center;
            padding: 80px 20px;
        }

        .promotions-section h2 {
            font-family: var(--font-primary);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .promo-btn {
            background: white;
            color: var(--primary-color);
            padding: 15px 40px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 30px;
        }

        .promo-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        /* ========== BOOKING SECTION ========== */
        .booking-section {
            background: var(--body-bg);
            text-align: center;
        }

        .book-now-btn {
            background: var(--accent-gradient);
            color: white;
            padding: 20px 60px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.5rem;
            font-weight: 900;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-block;
        }

        .book-now-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        /* ========== CONTACT SECTION ========== */
        .contact-section {
            background: var(--body-bg);
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: start;
        }

        .contact-info {
            padding: 40px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            color: var(--text-primary);
        }

        .contact-info h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .contact-info p {
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .contact-form {
            padding: 40px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
            background: var(--body-bg);
            color: var(--text-primary);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .submit-btn {
            background: var(--accent-gradient);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .submit-btn:hover {
            transform: scale(1.05);
        }

        /* ========== MODAL ========== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: var(--card-bg);
            max-width: 600px;
            width: 100%;
            border-radius: var(--border-radius);
            padding: 40px;
            position: relative;
            animation: modalSlideIn 0.3s ease;
            color: var(--text-primary);
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--primary-color);
        }

        .modal-content h2 {
            font-family: var(--font-primary);
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .modal-content p {
            line-height: 1.8;
            margin-bottom: 20px;
            color: var(--text-secondary);
        }

        .price-tag {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: 900;
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 768px) {
            .contact-container {
                grid-template-columns: 1fr;
            }

            .rooms-carousel {
                padding-left: 20px;
                padding-right: 20px;
            }

            .gallery-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            :root {
                --header-height: 70px;
            }

            .header-container {
                padding: 0 20px;
            }

            .section {
                padding: 60px 20px;
            }
        }

        /* ========== DARK MODE TOGGLE ========== */
        .dark-mode-toggle {
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: var(--transition);
            color: var(--header-text);
            font-size: 1.3rem;
        }

        .dark-mode-toggle:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] .dark-mode-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* ========== SCROLLBAR STYLING ========== */
        .rooms-carousel::-webkit-scrollbar,
        .attractions-carousel::-webkit-scrollbar {
            height: 8px;
        }

        .rooms-carousel::-webkit-scrollbar-track,
        .attractions-carousel::-webkit-scrollbar-track {
            background: var(--body-bg);
            border-radius: var(--border-radius);
        }

        .rooms-carousel::-webkit-scrollbar-thumb,
        .attractions-carousel::-webkit-scrollbar-thumb {
            background: var(--accent-gradient);
            border-radius: var(--border-radius);
        }
    </style>
</head>
<body data-theme="light">
    <!-- ========== HEADER ========== -->
    <header id="main-header">
        <div class="header-container">
            <div class="logo-section">
                <!-- 3D Logo with fallback -->
                <canvas id="logo-3d" title="3D Logo"></canvas>
                <img src="/images/logo_1800.png" alt="The Whale's Tale" class="logo-img">
            </div>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="#about">ABOUT</a></li>
                    <li><a href="#rooms">ROOMS</a></li>
                    <li><a href="#gallery">GALLERY</a></li>
                    <li><a href="#promotions">PROMOTIONS</a></li>
                    <li><a href="#contact">CONTACT US</a></li>
                    <li><a href="#booking">BOOK NOW</a></li>
                </ul>
            </nav>
            
            <div class="header-controls">
                <button class="dark-mode-toggle" id="dark-mode-toggle" title="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="control-btn" id="volume-toggle" title="Toggle Volume">
                    <i class="fas fa-volume-mute"></i>
                </button>
                <button class="hamburger" id="menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- ========== PARALLAX SECTION 1 (HERO) ========== -->
    <section id="hero" class="parallax-section">
        <video class="parallax-bg" id="hero-video" autoplay muted loop playsinline>
            <source src="/videos/hero-whale-cinematic.mp4" type="video/mp4">
            <img src="/images/paralax_pool_main.jpg" alt="Ocean View" class="parallax-bg">
        </video>
        <div class="parallax-content">
            <h1 id="hero-title">THE WHALE'S TALE GUESTHOUSE</h1>
            <p id="hero-subtitle">It's just a fish tale... until you live it!</p>
        </div>
    </section>


    <!-- ========== ROOMS SECTION ========== -->
    <section id="rooms" class="rooms-section">
        <h2 class="section-title">Our Luxury Rooms</h2>
        <div class="rooms-carousel">
            <div class="room-card" onclick="openRoomModal('Luxury Suite', 'R2934.99/night', 'Our two Luxury Rooms are situated on the top floor of the guesthouse. These spacious rooms consist of an en-suite bathroom with shower, flat screen television with DSTV satellite channels, aircon, safe and coffee / tea making facilities.')">
                <img src="/images/rooms/room_luxury.jpg" alt="Luxury Suite" class="room-img">
                <div class="room-info">
                    <h3 class="room-name">Luxury Suite</h3>
                    <p class="room-price">R2934.99<span style="font-size: 1rem;">/night</span></p>
                </div>
            </div>
            <div class="room-card" onclick="openRoomModal('Superior Room', 'R2934.99/night', 'The Superior Double Room is situated on the ground floor of the guesthouse and consists of an en-suite bathroom with shower, flat screen television with DSTV satellite channels, aircon, safe and coffee / tea making facilities. The room also has a cosy patio outside where guests can enjoy a cup of coffee before breakfast.')">
                <img src="/images/rooms/room_superior.jpg" alt="Superior Room" class="room-img">
                <div class="room-info">
                    <h3 class="room-name">Superior Room</h3>
                    <p class="room-price">R2934.99<span style="font-size: 1rem;">/night</span></p>
                </div>
            </div>
            <div class="room-card" onclick="openRoomModal('Ocean View Luxury', 'R2934.99/night', 'Our Luxury Ocean View Rooms are situated on the top floor with a balcony and beautiful ocean views. These 2 luxurious rooms have an en-suite bathroom, television with satelite channels, aircon and wifi.')">
                <img src="/images/rooms/room_luxury_ocean_view.jpg" alt="Ocean View Luxury" class="room-img">
                <div class="room-info">
                    <h3 class="room-name">Ocean View Luxury</h3>
                    <p class="room-price">R2934.99<span style="font-size: 1rem;">/night</span></p>
                </div>
            </div>
            <!--div class="room-card" onclick="openRoomModal('Garden Suite', 'R2934.99/night', 'Peaceful garden views with direct pool access and private patio.')">
                <img src="/images/rooms/room_superior.jpg" alt="Garden Suite" class="room-img">
                <div class="room-info">
                    <h3 class="room-name">Garden Suite</h3>
                    <p class="room-price">$200<span style="font-size: 1rem;">/night</span></p>
                </div>
            </div>
            <div class="room-card" onclick="openRoomModal('Family Suite', 'R2934.99/night', 'Spacious family accommodation with separate living area and full ocean views.')">
                <img src="/images/rooms/room_luxury.jpg" alt="Family Suite" class="room-img">
                <div class="room-info">
                    <h3 class="room-name">Family Suite</h3>
                    <p class="room-price">$350<span style="font-size: 1rem;">/night</span></p>
                </div>
            </div-->
        </div>
    </section>

    <!-- ========== PARALLAX SECTION 2 (ATTRACTIONS) ========== -->
    <section id="attractions" class="parallax-section">
        <!--img src="/images/paralax_attractions.jpg" alt="Attractions" class="parallax-bg"-->
        
<div style="position: absolute; top:0; left:0; width:100%; height:100%; background: url('/images/paralax_attractions.jpg') center/cover; z-index:0;"></div>        
        
        <!--div class="parallax-content" style="width: 100%;"-->
        <div class="parallax-content" style="position: relative; z-index:1;">
            <h2 style="font-size: var(--hero-sub-font-size); color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); margin-bottom: 30px; text-align: center;">
                Unforgettable Experiences
            </h2>
            <div class="attractions-carousel">
                <div class="attraction-item" onclick="openModal('Whale Watching', 'Experience the majestic Southern Right Whales up close during whale season. Boat tours and cliff path viewing available.')">
                    <img src="/images/attractions/whale.webp" alt="Whale Watching" class="attraction-img">
                </div>
                <div class="attraction-item" onclick="openModal('Golf Course', 'Hermanus Golf Club is perfectly set on the slopes of the Overberg with breathtaking views of Walker Bay. The spectacular 27 hole course is set around a restored wetland, which provides for beautiful fynbos, abundant bird life and an opportunity to spot some springbok along the way.')">
                    <img src="/images/attractions/golf.jpg" alt="Golf" class="attraction-img">
                </div>
                <div class="attraction-item" onclick="openModal('Shark Cage Diving', 'Face-to-face encounters with Great White Sharks in their natural habitat. Safe and thrilling adventure.')">
                    <img src="/images/attractions/shark.jpg" alt="Shark Diving" class="attraction-img">
                </div>
                <div class="attraction-item" onclick="openModal('Wine Tours', 'Explore the famous Hemel-en-Aarde valley wineries. Premium tastings and scenic vineyard tours. Hemel-en-Aarde is widely regarded as one of the most exciting and most beautiful wine areas in South Africa. It is comprised of three Wine Wards located behind the historic seaside resort town of Hermanus, surrounded by nature reserves, overlooking Walker Bay.')">
                    <img src="/images/attractions/wine.jpg" alt="WINE VALLEY" class="attraction-img">
                </div>
                <div class="attraction-item" onclick="openModal('Hiking Trails', 'Scenic coastal hikes along the famous cliff path. The Hermanus cliff path hugs the coastline and offers a 12km path for walkers and hikers alike. Start near the new harbour and enjoy a visual journey along the beautiful rugged coastline to Grotto beach, this path offers many benches to sit and watch the whales or to enjoy ocean views. Dolphin and whale watching opportunities.')">
                    <img src="/images/attractions/cliff.jpg" alt="Hiking" class="attraction-img">
                </div>
                <div class="attraction-item" onclick="openModal('Markets', 'The Hermanus Country Market is open every Saturday and offers a variety of organic produce, herbs, jams, deli-treats and home-grown goods, as well as several stalls for wines and gifts. This vibrant market is a hub of activity within a relaxed atmosphere, and has become one of the most popular weekly market venues in the country.')">
                    <img src="/images/attractions/market.jpg" alt="Market" class="attraction-img">
                </div>
                <div class="attraction-item" onclick="openModal('Beaches', 'The Blue Flag Grotto Beach is well known for its massive stretch of stunning sandy beach and ocean. It is enjoyed by locals and tourists alike and boasts a view of the mountainous areas behind whilst still having a seemingly unending view of the beach. This beach is perfect for swimming, suntanning, games and long, leisurely walks. Pristine beaches for swimming, surfing, and sunset walks. Blue flag certified water quality.')">
                    <img src="/images/attractions/beach.jpg" alt="Beaches" class="attraction-img">
                </div>
            </div>
        </div>
    </section>



    <!-- ========== ABOUT SECTION ========== -->
    <section id="about" class="about-section">
        <h2 class="section-title">Discover Our Story</h2>
        <div class="about-content">
            <p>The Whale’s Tale Guesthouse offers a magnificent ocean view, and is conveniently situated between the Hermanus New Harbour and the Town Centre. It gives our guests easy access to the famous cliff path where you will find magnificent scenery of the ocean meeting the cliffs, various plant species and of course the adventure of seeing a Southern Right Whale during Whale Season. The cliff path offers a scenic, relaxing walk to the town centre where you will find a variety of restaurants, art galleries, shops and the famous Old Harbour.</p>
            <p>The guesthouse consists of 5 beautifully decorated bedrooms, each with air-conditioning, an en-suite bathroom, smart televisions and complimentary WiFi. Other facilities includes free parking, solar power and an outdoor swimming pool where our guests can relax on the deck while enjoying the magnificent view of the ocean.</p>
            <p>The Whale’s Tale Guest House will enchant you with a tale of a memorable holiday in a beautiful seaside town, where guests stay in luxury and are treated like good friends.</p>
        </div>
    </section>









    <!-- ========== PARALLAX SECTION 3 (GALLERY) ========== ->
    <section id="gallery" class="parallax-section">
        <img src="/images/foyer.jpg" alt="Gallery Background" class="parallax-bg">
        <div class="parallax-content" style="width: 100%;">
            <h2 style="font-size: var(--hero-sub-font-size); color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); margin-bottom: 40px; text-align: center;">Our Gallery</h2>
            <div class="gallery-grid">
                <img src="https://source.unsplash.com/300x200/?guesthouse,bedroom" alt="Bedroom" class="gallery-img" onclick="openImageModal(this.src)">
                <img src="https://source.unsplash.com/300x200/?guesthouse,lounge" alt="Lounge" class="gallery-img" onclick="openImageModal(this.src)">
                <img src="https://source.unsplash.com/300x200/?guesthouse,pool" alt="Pool" class="gallery-img" onclick="openImageModal(this.src)">
                <img src="https://source.unsplash.com/300x200/?ocean,cliff" alt="Ocean View" class="gallery-img" onclick="openImageModal(this.src)">
                <img src="https://source.unsplash.com/300x200/?breakfast,dining" alt="Dining" class="gallery-img" onclick="openImageModal(this.src)">
                <img src="https://source.unsplash.com/300x200/?guesthouse,balcony" alt="Balcony" class="gallery-img" onclick="openImageModal(this.src)">
            </div>
        </div>
    </section-->

<!-- ========== PARALLAX SECTION 3 (GALLERY) ========== ->
<section id="gallery" class="parallax-section">
    <img src="/images/foyer.jpg" alt="Gallery Background" class="parallax-bg">
    <div class="parallax-content" style="width: 100%;">
        <h2 style="font-size: var(--hero-sub-font-size); color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); margin-bottom: 40px; text-align: center;">Our Gallery</h2>
        <div class="gallery-grid" id="dynamic-gallery">
            <!-- Images will be loaded here by JavaScript ->
        </div>
    </div>
</section-->



<!-- ========== PARALLAX SECTION 3 (GALLERY) ========== -->
<section id="gallery" class="parallax-section">
    <img src="/images/foyer.jpg" alt="Gallery Background" class="parallax-bg">
    <div class="parallax-content" style="width: 100%;">
        <h2 style="font-size: var(--hero-sub-font-size); color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); margin-bottom: 40px; text-align: center;">Our Gallery</h2>
        <div class="gallery-carousel" id="dynamic-gallery">
            <!-- Images will be loaded here dynamically -->
        </div>
    </div>
</section>







    <!-- ========== PROMOTIONS SECTION ========== -->
    <section id="promotions" class="promotions-section">
        <h2>Exclusive Promotions</h2>
        <p>Click below to reveal our special offers</p>
        <button class="promo-btn" onclick="openPromotionModal()">REVEAL SPECIAL OFFERS</button>
    </section>

    <!-- ========== BOOKING SECTION ========== -->
    <section id="booking" class="booking-section">
        <h2 class="section-title">Book Your Stay</h2>
        <a href="https://book.nightsbridge.com/24965" class="book-now-btn">BOOK NOW</a>
    </section>

    <!-- ========== CONTACT SECTION ========== -->
    <section id="contact" class="contact-section">
        <h2 class="section-title">Get In Touch</h2>
        <div class="contact-container">
            <div class="contact-info">
                <h3>The Whale's Tale Guesthouse</h3>
                <p><i class="fas fa-map-marker-alt"></i> 86 Westcliff Drive, Hermanus, South Africa</p>
                <p><i class="fas fa-phone"></i> Phone: +27 28 312 3196</p>
                <p><i class="fas fa-envelope"></i> Email: reservations@thewhalestale.co.za</p>
                <div id="map" style="height: 200px; border-radius: var(--border-radius); margin-top: 30px;">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3302.0453741899326!2d19.226203415210986!3d-34.41132878051634!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1dcd5d4eb0b3a3b5%3A0xbc33649e3fe0c7f7!2s86%20Westcliff%20Dr%2C%20Hermanus%2C%207200%2C%20South%20Africa!5e0!3m2!1sen!2s!4v1634123456789" width="100%" height="100%" style="border:0; border-radius: var(--border-radius);" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
            
            <form class="contact-form" id="contact-form">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone">
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" rows="4" required></textarea>
                </div>
                <button type="submit" class="submit-btn">Send Message</button>
            </form>
        </div>
    </section>

    <!-- ========== MODALS ========== -->
    <div class="modal" id="main-modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <h2 id="modal-title"></h2>
            <p id="modal-body"></p>
            <p id="modal-price" class="price-tag"></p>
        </div>
    </div>

    <!-- ========== JAVASCRIPT ========== -->
    <script>
        // ========== CUSTOMIZABLE VARIABLES ========== 
        const config = {
            colors: {
                primary: getComputedStyle(document.documentElement).getPropertyValue('--primary-color').trim(),
                secondary: getComputedStyle(document.documentElement).getPropertyValue('--secondary-color').trim()
            },
            header: {
                height: getComputedStyle(document.documentElement).getPropertyValue('--header-height').trim(),
                transparent: false
            },
            text: {
                heroTitle: document.getElementById('hero-title'),
                heroSubtitle: document.getElementById('hero-subtitle')
            },
            volume: {
                muted: true
            }
        };

        // ========== 3D LOGO LOADER ==========
        function init3DLogo() {
            const canvas = document.getElementById('logo-3d');
            if (!canvas) return;

            try {
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
                renderer.setSize(60, 60);

                const loader = new THREE.OBJLoader();
                loader.load(
                    '/images/logo.obj',
                    (object) => {
                        scene.add(object);
                        camera.position.z = 5;
                        
                        function animate() {
                            requestAnimationFrame(animate);
                            object.rotation.y += 0.01;
                            renderer.render(scene, camera);
                        }
                        animate();
                    },
                    undefined,
                    (error) => {
                        console.log('3D model failed to load, using fallback');
                        canvas.style.display = 'none';
                    }
                );
            } catch (e) {
                canvas.style.display = 'none';
            }
        }

        /*/ ========== PARALLAX SCROLL EFFECT ==========
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const parallaxBg = document.querySelectorAll('.parallax-bg');
            
            parallaxBg.forEach(bg => {
                const speed = 0.5;
                bg.style.transform = `translateY(${scrolled * speed}px)`;
            });
        });*/
        
        
        
        
        // ========== PARALLAX SCROLL EFFECT ==========
		window.addEventListener('scroll', () => {
			const scrolled = window.pageYOffset;
			const parallaxSections = document.querySelectorAll('.parallax-section');
			
			parallaxSections.forEach(section => {
				const bg = section.querySelector('.parallax-bg');
				if (bg) {
				    // Use translate3d for hardware acceleration
				    const speed = 0.5;
				    const yPos = -(scrolled * speed);
				    bg.style.transform = `translate3d(0, ${yPos}px, 0)`;
				}
			});
		}, { passive: true });
        
        
        
        
        
        
        
        
        

        // ========== MOBILE MENU TOGGLE ==========
        const menuToggle = document.getElementById('menu-toggle');
        const mainNav = document.getElementById('main-nav');

        menuToggle.addEventListener('click', () => {
            mainNav.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        // Close menu on link click
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                mainNav.classList.remove('active');
                menuToggle.classList.remove('active');
            });
        });

        // ========== VOLUME CONTROL ==========
        const volumeToggle = document.getElementById('volume-toggle');
        const video = document.getElementById('hero-video');
        
        volumeToggle.addEventListener('click', () => {
            config.volume.muted = !config.volume.muted;
            video.muted = config.volume.muted;
            volumeToggle.innerHTML = config.volume.muted 
                ? '<i class="fas fa-volume-mute"></i>'
                : '<i class="fas fa-volume-up"></i>';
        });

        // ========== DARK MODE TOGGLE ==========
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const storedTheme = localStorage.getItem('theme') || 'light';
        
        // Apply stored theme on load
        document.body.setAttribute('data-theme', storedTheme);
        updateDarkModeIcon(storedTheme);

        darkModeToggle.addEventListener('click', () => {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateDarkModeIcon(newTheme);
        });

        function updateDarkModeIcon(theme) {
            darkModeToggle.innerHTML = theme === 'dark' 
                ? '<i class="fas fa-sun"></i>' 
                : '<i class="fas fa-moon"></i>';
        }

        // ========== MODAL FUNCTIONS ==========
        function openModal(title, body, price = '') {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-body').textContent = body;
            document.getElementById('modal-price').textContent = price || '';
            document.getElementById('main-modal').style.display = 'flex';
        }

        function openRoomModal(name, price, description) {
            openModal(name, description, price);
        }

        function openImageModal(src) {
            openModal('Gallery Image', '', '');
            document.getElementById('modal-body').innerHTML = `<img src="${src}" style="width: 100%; border-radius: var(--border-radius);">`;
        }

        function openPromotionModal() {
            openModal('Special Promotions', 
                '•  Direct Booking Special - 10% Discount through 01 Apr 2025 to 15 Dec 2025\n• Stay 4 nights, pay for 3 (valid until Dec 2025)\n• Whale Season Special: 15% off whale watching packages\n• Honeymoon Package: Complimentary champagne & breakfast in bed\n• Golf Package: 2 nights + 2 rounds of golf at Hermanus Golf Club',
                'From R3200/night'
            );
        }

        function closeModal() {
            document.getElementById('main-modal').style.display = 'none';
        }

        // Close modal on outside click
        window.onclick = function(event) {
            const modal = document.getElementById('main-modal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // ========== FORM HANDLER ==========
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Thank you for your message! We will contact you within 24 hours.');
            e.target.reset();
        });

        // ========== HEADER SCROLL EFFECT ==========
        window.addEventListener('scroll', () => {
            const header = document.getElementById('main-header');
            if (window.scrollY > 50) {
                header.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.2)';
            } else {
                header.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';
            }
        });



// ========== DYNAMIC GALLERY LOADER ==========
function loadGallery() {
    const galleryContainer = document.getElementById('dynamic-gallery');
    
    // Method 1: Try loading from JSON manifest (Recommended)
    fetch('/images/gallery/gallery.json')
        .then(response => response.json())
        .then(images => {
            galleryContainer.innerHTML = ''; // Clear loading text
            images.forEach(image => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'gallery-item';
                
                const imgElement = document.createElement('img');
                imgElement.src = `/images/gallery/${image}`;
                imgElement.alt = image.split('.')[0]; // Use filename as alt text
                imgElement.className = 'gallery-img';
                imgElement.onclick = () => openImageModal(imgElement.src);
                
                itemDiv.appendChild(imgElement);
                galleryContainer.appendChild(itemDiv);
            });
        })
        .catch(error => {
            console.log('JSON method failed, trying directory listing...');
            
            // Method 2: For servers with directory listing enabled (less secure)
            fetch('/images/gallery/')
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const links = doc.querySelectorAll('a');
                    const imageExts = ['.jpg', '.jpeg', '.png', '.gif', '.webp'];
                    
                    galleryContainer.innerHTML = '';
                    links.forEach(link => {
                        const href = link.getAttribute('href');
                        if (!href || href === 'gallery.json') return;
                        
                        const isImage = imageExts.some(ext => href.toLowerCase().endsWith(ext));
                        if (isImage) {
                            const itemDiv = document.createElement('div');
                            itemDiv.className = 'gallery-item';
                            
                            const imgElement = document.createElement('img');
                            imgElement.src = `/images/gallery/${href}`;
                            imgElement.alt = href.split('.')[0];
                            imgElement.className = 'gallery-img';
                            imgElement.onclick = () => openImageModal(imgElement.src);
                            
                            itemDiv.appendChild(imgElement);
                            galleryContainer.appendChild(itemDiv);
                        }
                    });
                })
                .catch(error => {
                    console.error('Failed to load gallery:', error);
                    galleryContainer.innerHTML = '<p style="color: var(--text-primary);">Gallery loading failed. Please check console.</p>';
                });
        });
}

// ========== INITIALIZATION ==========
document.addEventListener('DOMContentLoaded', () => {
    init3DLogo();
    loadGallery(); // Add this line
    // ... rest of existing code
    document.getElementById('map').innerHTML = '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3302.0453741899326!2d19.226203415210986!3d-34.41132878051634!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1dcd5d4eb0b3a3b5%3A0xbc33649e3fe0c7f7!2s86%20Westcliff%20Dr%2C%20Hermanus%2C%207200%2C%20South%20Africa!5e0!3m2!1sen!2s!4v1634123456789" width="100%" height="100%" style="border:0; border-radius: var(--border-radius);" allowfullscreen="" loading="lazy"></iframe>';
});
    </script>
    
    
    
    
        <!-- Audio implementation kept as-is per user request -->
    <audio id="player" src="kai-audio-a-calm-and-dreamy-ambient-track-for-the-whale-s-tale.mp3" autoplay muted loop></audio>
    <script>
    const player = document.getElementById("player");
    player.volume = 0.2; // Set volume to 20% (range: 0.0 to 1.0)

    function tryPlay() {
        player.muted = false;
        player.play().catch(() => {});
    }

    window.addEventListener("scroll", tryPlay, { once: true });
    window.addEventListener("click", tryPlay, { once: true });
    window.addEventListener("touchstart", tryPlay, { once: true });
    </script>
    
    
    
    
    
    
    
</body>
</html>
